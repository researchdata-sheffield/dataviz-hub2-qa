{"version":3,"sources":["webpack://datavizhub-tuos/./node_modules/react-reveal/Zoom.js","webpack://datavizhub-tuos/./src/images/search/search.png","webpack://datavizhub-tuos/./src/components/shared/search.jsx","webpack://datavizhub-tuos/./src/pages/search.jsx"],"names":["_objectWithoutProperties","o","e","r","t","indexOf","Object","prototype","hasOwnProperty","call","make","left","right","p","up","n","down","a","top","i","bottom","l","mirror","u","opposite","s","lookup","d","f","c","y","_globals","animation","Zoom","arguments","length","defaults","children","out","forever","timeout","duration","delay","count","style","animationFillMode","reverse","_wrap2","default","defineProperty","exports","value","_propTypes","_wrap","__esModule","propTypes","bool","number","module","state","query","results","componentDidMount","setTimeout","props","location","searchWord","queryHome","input","document","getElementById","setState","setAttribute","searchFunction","search","event","target","getSearchResults","render","className","this","classNames","backgroundImage","bg","backgroundSize","backgroundPosition","backgroundRepeat","width","minHeight","cascade","id","onChange","onInput","autoComplete","minWidth","type","name","placeholder","data","useStaticQuery","map","item","imagesrc","allMdx","edges","node","getImageSource","title","shortenText","description","highlightClasses","href","url","rel","key","borderRadius","maxWidth","textShadow","padding","highlightClassName","textToHighlight","searchWords","split","author","index","arr","concat","category","cat","toUpperCase","tag","window","__FLEXSEARCH__","en","store","keys","forEach","idx","push","values","suggest","Array","from","Set","filter","includes","Component","keywords"],"mappings":"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","file":"component---src-pages-search-jsx-fc080f9afda23ead8426.js","sourcesContent":["\"use strict\";\n\nfunction _interopRequireDefault(o) {\n  return o && o.__esModule ? o : {\n    default: o\n  };\n}\n\nfunction _objectWithoutProperties(o, e) {\n  var r = {};\n\n  for (var t in o) {\n    e.indexOf(t) >= 0 || Object.prototype.hasOwnProperty.call(o, t) && (r[t] = o[t]);\n  }\n\n  return r;\n}\n\nfunction make(o, e) {\n  var r = e.left,\n      t = e.right,\n      p = e.up,\n      n = e.down,\n      a = e.top,\n      i = e.bottom,\n      l = e.mirror,\n      u = e.opposite,\n      s = (r ? 1 : 0) | (t ? 2 : 0) | (a || n ? 4 : 0) | (i || p ? 8 : 0) | (l ? 16 : 0) | (u ? 32 : 0) | (o ? 64 : 0);\n  if (lookup.hasOwnProperty(s)) return lookup[s];\n\n  if (!l != !(o && u)) {\n    var d = [t, r, i, a, n, p];\n    r = d[0], t = d[1], a = d[2], i = d[3], p = d[4], n = d[5];\n  }\n\n  var f = r || t,\n      c = a || i || p || n,\n      m = f || c,\n      y = void 0,\n      b = void 0,\n      _ = void 0,\n      v = void 0,\n      T = void 0;\n\n  return m ? o ? (b = f ? (r ? \"\" : \"-\") + \"42px\" : \"0\", _ = c ? (n || a ? \"-\" : \"\") + \"60px\" : \"0\", v = f ? (t ? \"\" : \"-\") + \"2000px\" : \"0\", T = c ? (p || i ? \"\" : \"-\") + \"2000px\" : \"0\", y = \"40% {\\n          opacity: 1;\\n          transform: scale3d(.475, .475, .475) translate3d(\" + b + \", \" + _ + \", 0);\\n        }\\n        to {\\n          opacity: 0;\\n          transform: scale(.1) translate3d(\" + v + \", \" + T + \", 0);\\n          transform-origin: \" + (c ? \"center bottom\" : (r ? \"left\" : \"right\") + \" center\") + \";\\n        }\") : (b = f ? (r ? \"-\" : \"\") + \"1000px\" : \"0\", _ = c ? (n || a ? \"-\" : \"\") + \"1000px\" : \"0\", v = f ? (t ? \"-\" : \"\") + \"10px\" : \"0\", T = c ? (p || i ? \"-\" : \"\") + \"60px\" : \"0\", y = \"from {\\n          opacity: 0;\\n          transform: scale3d(.1, .1, .1) translate3d(\" + b + \", \" + _ + \", 0);\\n          animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\\n        }\\n        60% {\\n          opacity: 1;\\n          transform: scale3d(.475, .475, .475) translate3d(\" + v + \", \" + T + \", 0);\\n          animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\\n        }\") : y = (o ? \"to\" : \"from\") + \" {opacity: 0; transform: scale3d(.1, .1, .1);} \" + (o ? \"from\" : \"to\") + \" { opacity: 1; transform: none;}\", lookup[s] = (0, _globals.animation)(y), lookup[s];\n}\n\nfunction Zoom() {\n  var o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _globals.defaults,\n      e = o.children,\n      r = (o.out, o.forever),\n      t = o.timeout,\n      p = o.duration,\n      n = void 0 === p ? _globals.defaults.duration : p,\n      a = o.delay,\n      i = void 0 === a ? _globals.defaults.delay : a,\n      l = o.count,\n      u = void 0 === l ? _globals.defaults.count : l,\n      s = _objectWithoutProperties(o, [\"children\", \"out\", \"forever\", \"timeout\", \"duration\", \"delay\", \"count\"]),\n      d = {\n    make: make,\n    duration: void 0 === t ? n : t,\n    delay: i,\n    forever: r,\n    count: u,\n    style: {\n      animationFillMode: \"both\"\n    },\n    reverse: s.left\n  };\n\n  return (0, _wrap2.default)(s, d, d, e);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar _propTypes = require(\"prop-types\"),\n    _wrap = require(\"./wrap\"),\n    _wrap2 = _interopRequireDefault(_wrap),\n    _globals = require(\"./globals\"),\n    propTypes = {\n  out: _propTypes.bool,\n  left: _propTypes.bool,\n  right: _propTypes.bool,\n  top: _propTypes.bool,\n  bottom: _propTypes.bool,\n  mirror: _propTypes.bool,\n  opposite: _propTypes.bool,\n  duration: _propTypes.number,\n  timeout: _propTypes.number,\n  delay: _propTypes.number,\n  count: _propTypes.number,\n  forever: _propTypes.bool\n},\n    lookup = {};\n\nZoom.propTypes = propTypes, exports.default = Zoom, module.exports = exports.default;","export default __webpack_public_path__ + \"static/search-cf9fb2a9c2596e7f265f0e65e8d5aa65.png\";","import React, { Component } from \"react\";\r\nimport { graphql, useStaticQuery } from \"gatsby\";\r\nimport PropTypes from \"prop-types\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport Zoom from \"react-reveal/Zoom\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport bg from \"../../images/search/search.png\";\r\nimport { getImageSource, shortenText } from \"../../utils/shared\";\r\n\r\n// Search component\r\nclass Search extends Component {\r\n  state = {\r\n    query: \"\",\r\n    results: []\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    setTimeout(() => {\r\n      if (this.props.location.state && this.props.location.state.searchWord) {\r\n        var queryHome = this.props.location.state.searchWord;\r\n        var input = document.getElementById(\"pageSearch\");\r\n        this.setState({ query: queryHome });\r\n        input.setAttribute(\"value\", queryHome);\r\n        this.searchFunction(queryHome);\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  render() {\r\n    const ResultList = () => {\r\n      // query length changed from 2 to 0\r\n      if (this.state.results.length > 0 && this.state.query.length > 0) {\r\n        const data = useStaticQuery(graphql`\r\n          query postList {\r\n            allMdx(\r\n              sort: { fields: [frontmatter___date], order: DESC }\r\n              filter: { frontmatter: { published: { ne: false } } }\r\n            ) {\r\n              edges {\r\n                node {\r\n                  id\r\n                  frontmatter {\r\n                    date(formatString: \"ddd, DD MMM YYYY\")\r\n                    thumbnail {\r\n                      childImageSharp {\r\n                        gatsbyImageData(\r\n                          placeholder: BLURRED\r\n                          layout: FULL_WIDTH\r\n                        )\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        `);\r\n\r\n        return (\r\n          <div>\r\n            <div className=\"bg-white text-gray-900 py-2\">\r\n              Found {this.state.results.length} results for you.\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap py-10 xl:pt-16 xl:pb-64 justify-center bg-gray-100\">\r\n              {this.state.results.map((item, i) => {\r\n                let imagesrc;\r\n                {\r\n                  data.allMdx.edges.map(({ node }) => {\r\n                    if (item.id == node.id) {\r\n                      imagesrc = getImageSource(node, true);\r\n                    }\r\n                  });\r\n                }\r\n\r\n                let title = shortenText(item.title, 8);\r\n                let description = shortenText(item.description, 30);\r\n                const highlightClasses = \"text-blue-400 bg-black\";\r\n\r\n                return (\r\n                  <a\r\n                    href={`${item.url}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    key={i}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        width: \"363px\",\r\n                        backgroundImage: `url(${imagesrc})`,\r\n                        backgroundSize: \"cover\",\r\n                        backgroundPosition: \"center\",\r\n                        borderRadius: \"10px\",\r\n                        minHeight: \"420px\"\r\n                      }}\r\n                      className=\"shadow-lg hover:shadow-xl rounded-lg group text-left relative md:mx-6 my-6 transform hover:scale-105 transition duration-500\"\r\n                    >\r\n                      <div\r\n                        className=\"rounded-lg max-h-60 w-full p-6 transition duration-700 bg-black-65 group-hover:bg-black-85\"\r\n                        style={{ minHeight: \"420px\" }}\r\n                      >\r\n                        <div\r\n                          className=\"absolute pt-8 lg:pt-12 2xl:pt-16 overflow-hidden\"\r\n                          style={{ maxWidth: \"320px\" }}\r\n                        >\r\n                          <h1\r\n                            className=\"mb-3 group-hover:-translate-y-8 text-white bg-gray-900 group-hover:text-brand-blue group-hover:bg-black font-bold text-lg transform transition duration-300 inline-block rounded-md\"\r\n                            style={{\r\n                              textShadow: \"none\",\r\n                              padding: \".15rem .65rem\"\r\n                            }}\r\n                          >\r\n                            {item.type || \"blog\"}\r\n                          </h1>\r\n                          {/* title */}\r\n                          <h1 className=\"group-hover:-translate-y-8 text-white font-bold leading-7 text-2xl transform transition duration-100\">\r\n                            <Highlighter\r\n                              highlightClassName={highlightClasses}\r\n                              textToHighlight={title}\r\n                              searchWords={this.state.query.split()}\r\n                            />\r\n                          </h1>\r\n                          {/* authors  */}\r\n                          <h1\r\n                            className=\"group-hover:hidden text-gray-400 leading-7 my-4 font-bold text-lg transition duration-500\"\r\n                            style={{ textShadow: \"#000 0px 0px 30px\" }}\r\n                          >\r\n                            {item.author.map((author, index, arr) => {\r\n                              return (\r\n                                <Highlighter\r\n                                  className=\"text-white\"\r\n                                  highlightClassName={highlightClasses}\r\n                                  textToHighlight={\r\n                                    arr.length - 1 === index\r\n                                      ? author\r\n                                      : author.concat(\", \")\r\n                                  }\r\n                                  searchWords={this.state.query.split()}\r\n                                  key={author}\r\n                                />\r\n                              );\r\n                            })}\r\n                          </h1>\r\n                          {/* category */}\r\n                          {item.category && (\r\n                            <h1 className=\"group-hover:hidden text-gray-200 font-bold transition duration-500\">\r\n                              CAT: &nbsp;\r\n                              {item.category.map((cat) => (\r\n                                <span key={cat}>\r\n                                  <Highlighter\r\n                                    className=\"text-white\"\r\n                                    highlightClassName={highlightClasses}\r\n                                    textToHighlight={cat.toUpperCase()}\r\n                                    searchWords={this.state.query.split()}\r\n                                  />\r\n                                  <span>&nbsp;</span>\r\n                                </span>\r\n                              ))}\r\n                            </h1>\r\n                          )}\r\n\r\n                          {/* tag */}\r\n                          {item.tag && (\r\n                            <h1 className=\"group-hover:hidden text-gray-200 font-bold transition duration-500\">\r\n                              TAG: &nbsp;\r\n                              {item.tag.map((tag, index, arr) => {\r\n                                return (\r\n                                  i < 3 && (\r\n                                    <Highlighter\r\n                                      className=\"text-white\"\r\n                                      highlightClassName={highlightClasses}\r\n                                      textToHighlight={\r\n                                        arr.length - 1 === index\r\n                                          ? tag.toUpperCase()\r\n                                          : tag.toUpperCase().concat(\", \")\r\n                                      }\r\n                                      searchWords={this.state.query.split()}\r\n                                      key={tag}\r\n                                    />\r\n                                  )\r\n                                );\r\n                              })}\r\n                              {item.tag.length > 3 && (\r\n                                <p className=\"inline-block text-white\">\r\n                                  {\" \"}\r\n                                  +{item.tag.length - 3} more\r\n                                </p>\r\n                              )}\r\n                            </h1>\r\n                          )}\r\n                          <p className=\"hidden group-hover:block my-4 text-xs text-gray-500 w-full font-semibold transform group-hover:-translate-y-12 transition duration-500\">\r\n                            <Highlighter\r\n                              highlightClassName={highlightClasses}\r\n                              textToHighlight={item.url.toUpperCase()}\r\n                              searchWords={this.state.query.split()}\r\n                            />\r\n                          </p>\r\n                          <h1 className=\"hidden group-hover:block text-white leading-5 text-lg py-3 transform group-hover:-translate-y-12 transition duration-500\">\r\n                            <Highlighter\r\n                              highlightClassName={highlightClasses}\r\n                              textToHighlight={description}\r\n                              searchWords={this.state.query.split()}\r\n                            />\r\n                          </h1>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        );\r\n      } else if (this.state.query.length > 0) {\r\n        return (\r\n          <div className=\"bg-white text-gray-900 py-2\">\r\n            No results for {this.state.query}\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div className=\"bg-gray-50 text-gray-700 py-2\">\r\n            Type something in the search box ...\r\n          </div>\r\n        );\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className={`${this.props.classNames} relative text-gray-700 w-full text-center`}\r\n      >\r\n        <div\r\n          className=\"pt-40 pb-10 bg-white\"\r\n          style={{\r\n            backgroundImage: `url(${bg})`,\r\n            backgroundSize: \"contain\",\r\n            backgroundPosition: \"center\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            width: \"100%\",\r\n            minHeight: \"600px\"\r\n          }}\r\n        >\r\n          <Zoom top duration={1000} cascade>\r\n            <p className=\"text-lg text-gray-800 mb-5 font-extrabold\">\r\n              What are you looking for?\r\n            </p>\r\n          </Zoom>\r\n          <Fade bottom duration={1500}>\r\n            <div className=\"inline-block focus:outline-none text-gray-600 bg-white shadow p-3 rounded-lg\">\r\n              <FiSearch className=\"inline-block text-center text-3xl -mt-1\" />\r\n              <input\r\n                id=\"pageSearch\"\r\n                onChange={this.search}\r\n                onInput={this.search}\r\n                autoComplete=\"off\"\r\n                className=\"search__input py-0 pl-4 text-lg focus:outline-none pr-5 text-gray-600\"\r\n                style={{ minWidth: \"25vw\" }}\r\n                type=\"text\"\r\n                name=\"search\"\r\n                placeholder=\"Search title, description, date...\"\r\n              />\r\n            </div>\r\n          </Fade>\r\n        </div>\r\n        <div className=\"search__list bg-gray-100\">\r\n          <ResultList />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getSearchResults(query) {\r\n    //index - a flexsearch index instance (variables set in gatsby-config)\r\n    //store - object that stores the indexed gatsby nodes where the id of each node corresponds to the id the filter, according with flexsearch.js best practices (https://github.com/nextapps-de/flexsearch#best-practices)).\r\n\r\n    var index = window.__FLEXSEARCH__.en.index;\r\n    var store = window.__FLEXSEARCH__.en.store;\r\n\r\n    if (!query || !index) {\r\n      return [];\r\n    } else {\r\n      var results = [];\r\n      // search the indexed fields\r\n      Object.keys(index).forEach((idx) => {\r\n        results.push(\r\n          ...index[idx].values.search({\r\n            query: query,\r\n            suggest: true\r\n          })\r\n        );\r\n      });\r\n      // find the unique ids of the nodes\r\n      results = Array.from(new Set(results));\r\n\r\n      // return the corresponding nodes in the store\r\n      return store\r\n        .filter((node) => (results.includes(node.id) ? node : null))\r\n        .map((node) => node.node);\r\n    }\r\n  }\r\n\r\n  search = (event) => {\r\n    const query = event.target.value;\r\n    this.searchFunction(query);\r\n  };\r\n\r\n  searchFunction = (query) => {\r\n    if (this.state.query.length > -1) {\r\n      const results = this.getSearchResults(query);\r\n      this.setState({ results: results, query: query });\r\n    } else {\r\n      this.setState({ results: [], query: query });\r\n    }\r\n  };\r\n}\r\n\r\nexport default Search;\r\n\r\nSearch.propTypes = {\r\n  classNames: PropTypes.any,\r\n  data: PropTypes.any,\r\n  location: PropTypes.any\r\n};\r\n","import React from \"react\"\r\nimport SEO from \"../components/shared/seo\"\r\nimport PropTypes from \"prop-types\"\r\nimport SearchComponent from \"../components/shared/search\"\r\n\r\n\r\nconst Search = ({location}) => {\r\n\r\n  return (\r\n    <>\r\n      <SEO \r\n        title=\"Search\" \r\n        keywords={[\"the university of sheffield\", \"data visualisation\", \"data visualisation hub\", \"research\", \"dataviz.shef\", \"search dataviz\"]} \r\n      />\r\n      <div className=\"flex flex-wrap\">\r\n        <SearchComponent location={location} />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Search\r\n\r\nSearch.propTypes = {\r\n    data: PropTypes.any,\r\n    location: PropTypes.any\r\n  }\r\n  \r\n  "],"sourceRoot":""}